<div class="center">
  <h2>
    Hello Sam! Please fill out the following assessment test
  </h2>
  <h4>
    This will be used to judge your progression through the treatment
  </h4>
</div>
<br> <br>
<mat-card *ngIf="assessmentTest" class="assessTest">
  <mat-card-title>
  <p><b>Name: </b> <span>{{assessmentTest.name}}</span></p>
</mat-card-title>
<mat-card-subtitle>
  <p><b>Description: </b> <span>{{assessmentTest.description}} </span></p>
</mat-card-subtitle>
  <hr>
  <mat-card-content>
  <div *ngFor="let q of assessmentTestQuestions; let i = index">
    <div *ngIf="q.questionCode == 'SA'">
      <p><b>{{i + 1}}) {{q.questionText}}</b></p>
      <label>Response:</label>
      <textarea class="form-control myta" rows="5" id="question{{i}}" value="{{q.answer}}" #emailBody> </textarea>
    </div>
    <div *ngIf="q.questionCode == 'MC'">
      <p><b>{{i + 1}}) {{q.questionText}}</b></p>
      <br>
      <mat-radio-group id="question{{i}}">
          <mat-radio-button class="rdio" *ngFor="let qcontent of q.questionContent; let j = index" value="{{qcontent}}" id="question{{i}}{{j}}" (click)="RadioButtonClicked(qcontent, i)">{{qcontent}}</mat-radio-button>
      </mat-radio-group>
    </div>
    <br>
    <div *ngIf="q.questionCode == 'RA'">
      <p><b>{{i + 1}}) {{q.questionText}}</b></p> 
      <br>    
      <ngb-rating [(rate)]="currentRate" id="question{{i}}">
          <ng-template let-fill="fill" let-index="index">
            <span class="star" [class.filled]="fill === 100" (click)="SendBack(index, i)">&#9733;</span>
          </ng-template>
      </ngb-rating> 
    </div>
  </div>
  <button class="btn btn-sm btn-primary" (click)="SubmitAnswers()">Submit</button>
</mat-card-content>
</mat-card>